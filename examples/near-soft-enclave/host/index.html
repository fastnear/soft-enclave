<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NEAR Soft Enclave ‚Äì Host</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; }
      .row { display: flex; gap: 1rem; align-items: center; margin: 0.5rem 0; }
      label { min-width: 120px; }
      iframe { width: 100%; height: 340px; border: 1px solid #ddd; }
      pre { background: #f8f8f8; padding: 0.75rem; border-radius: 6px; overflow: auto; }
      .pill { padding: .2rem .5rem; border-radius: 16px; border: 1px solid #ccc; font-size: .8rem;}
    </style>
  </head>
  <body>
    <h1>NEAR Soft Enclave ‚Äì Host</h1>

    <h2>üìñ View Call (read-only)</h2>
    <div class="row">
      <label>RPC URL</label>
      <input id="rpcUrl" size="42" value="https://rpc.testnet.near.org" />
    </div>
    <div class="row">
      <label>Contract</label>
      <input id="contractId" size="32" placeholder="example.testnet" />
    </div>
    <div class="row">
      <label>Method</label>
      <input id="methodName" size="24" value="get_greeting" />
    </div>
    <div class="row">
      <label>Args (JSON)</label>
      <input id="args" size="48" value="{}" />
    </div>
    <div class="row">
      <button id="callBtn">üìñ Call View Method</button>
    </div>

    <h2>‚úçÔ∏è Sign & Send Transaction</h2>
    <div class="row">
      <label>Signer Account</label>
      <input id="signerId" size="32" placeholder="youraccount.testnet" />
    </div>
    <div class="row">
      <label>Receiver Contract</label>
      <input id="receiverId" size="32" placeholder="contract.testnet" />
    </div>
    <div class="row">
      <label>Method Name</label>
      <input id="txMethodName" size="24" placeholder="set_greeting" />
    </div>
    <div class="row">
      <label>Args (JSON)</label>
      <input id="txArgs" size="48" value="{}" />
    </div>
    <div class="row">
      <label>Gas</label>
      <input id="gas" size="20" value="30000000000000" />
      <label style="min-width: 80px;">Deposit (yN)</label>
      <input id="deposit" size="20" value="0" />
    </div>
    <div class="row">
      <label>Private Key</label>
      <input id="privateKey" type="password" size="60" placeholder="ed25519:..." />
      <span class="pill">üîí only in enclave</span>
    </div>
    <div class="row">
      <button id="signBtn">‚úçÔ∏è Sign & Send Transaction</button>
    </div>

    <div class="row">
      <span id="status"></span>
    </div>

    <h3>Result</h3>
    <pre id="result"></pre>

    <h3>Enclave</h3>
    <iframe id="enclave"></iframe>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
